Title: Synergy — программный IP-KVM, который смог
Date: 2015-07-28 14:42
Tags: software, remote access

Данная статья была впервые опубликована на [GeekTimes](http://geektimes.ru/post/259424/).

### Вступление

В первую очередь надо сказать, что этот продукт уже фигурировал на ресурсах ТМ в [этой статье от 2008 года](http://geektimes.ru/post/44905/). Однако по прошествии примерно 7 лет картинки потерялись и материал кажется несколько устаревшим.

Этой же публикацией я постараюсь обновить краткий мануал, раскрыть некоторые моменты, оставшиеся «за кадром», да и просто популяризовать отличное решение, которое незаслуженно страдает от недостатка внимания.

### Пара слов об истории Synergy

Я не случайно сказал, что проект мог бы быть известен куда более широко, вся история его развития напоминает лоскутное одеяло и кажется заслужвающей краткого изложения:

В 1996 году инженеры Cosmo Software Ричард Ли и Адам Федер решают проблему одновременной работы со станциями Irix и Windows, но руководство отказывается выделять внутреннюю разработку в отдельный продукт. Такая недальновидность оказалась симптоматичной и через некоторое время компания закрылась.

Но удачное решение продолжило свою жизнь, хотя к 2006 году оказалось в замороженном состоянии. С целью устранения багов и дальнейшего развития, в 2009 году Сорин Сбарнэ форкнул проект в Synergy+, куда позже влился Ник Болтон, который провел слияние Synergy+ с материнской веткой и в данный момент является CEO Synergy Si, занимаясь проектом уже на постоянной основе.

### Что это такое?

Итак, Synergy — это программный IP-KVM, который позволяет объединить управление двумя и более ПК в одном комплекте мышь-клавиатура. Предельно просто принцип работы отражен на заглавной картинке офицального сайта:

![Схема работы]({filename}/media/synergy_main.png)

Пользователь просто передвигает мышь к краю экрана (либо углу, либо жмет на заданную комбинацию клавиш) и курсор чудесным образом появляется на другом мониторе, подключенном к совершенно другому ПК. Курсор можно не только перемещать, но еще и перетягивать файлы с одного ПК на другой. Круто, да?

Естественно, это требует от ПО определенного уровня отзывчивости и совместимости, поэтому для разработки используется C/C++.

Есть версии для Windows, Linux, Mac OS X, на GitHub есть даже порты для Android, Haiku и иных ОС.

### Где взять?

Повторюсь, ПО готово к использованию в любой распространенной ОС, я же буду продолжать знакомство в контексте использования debian-like дистрбутва. Итак, сегодня в [репозиториях Debian](https://packages.debian.org/stable/synergy) находится несколько устаревшая версия 1.4.16, которую не удастся использовать с актуальными на сегодняшний день 1.7.x / 1.8.x из-за смены протокола, потому воспользуемся одним из вариантов:

— Скачать (купив лицензию) с официального сайта — [synergy-project.org](http://synergy-project.org/)

— Скачать доступные без регистрации ночные сборки — [synergy-project.org/nightly](http://synergy-project.org/nightly)

— Скачать и собрать своим руками, взяв код на GitHub — [github.com/synergy](https://github.com/synergy/synergy)

Для ознакомления удобней всего взять одну из ночных сборок ветки «stable». Шаг установки позволю себе пропустить, так как никаких подводных камней здесь нет.

### Как пользоваться

Все достаточно просто, окно приветствия при первом запуске сразу предложит нам выбрать роль текущего ПК — сервер (с клавиатурой и мышью) или клиент (без оных):

![Окно приветствия]({filename}/media/synergy_welcome_screen.png)

Далее предложено будет настроить шифрование и пароль, но для домашней сети я отключил его.

И, наконец, определяем расположение ПК друг относительно друга в пространстве, например:

![Окно настройки]({filename}/media/synergy_setup_screen.png)

Все готово! Теперь остается только нажать «Start» и сервер войдет в режим ожидания подключений:

![Готово к использованию]({filename}/media/synergy_ready_screen.png)

Для клиента, скорее всего, никаких настроек производить не потребуется, достаточно будет в таком же окне указать IP сервера и нажать на «Start».

А еще для настройки можно воспользоваться утилитой [QuickSynergy](https://en.wikipedia.org/wiki/QuickSynergy), которая предельно проста и вполне достаточна для начальной настройки.

### Хорошо, как это будет выглядеть?

Вот наиболее наглядная демонстрация использования Synergy, что мне довелось наблюдать: [Youtube](http://www.youtube.com/watch?v=4wkJx9Ozfu8)

… но и оно несколько неполное, ведь есть еще drag-n-drop перемещение файлов!

### Надо ли платить?

Не обязательно. Продукт выпускается под GPL второй редакции, так что пользоваться им «как есть» вы можете совершенно бесплатно, а для желающих помочь разработке или получить некоторый дополнительный сервис предусмотрены следующие варианты лицензирования:

— Базовая лицензия (10$ на момент написания статьи) подразумевает поддержку со стороны разработчиков, если речь идет о каком-то сильно индивидуальном баге.

— Профессиональная лицензия (29$ на момент написания статьи) включает в себя SSL и прямую телефонную поддержку от разработчиков.

Есть еще Enterprise-версия, которая включает в себя работу разработчиков над фичами, которые запросит именно Ваша компания, она начинается для тех, кто разворачивает Synergy на парке из 100 и более машин.

Личные впечатления

— Воткнув мышь и клавиатуру в Raspberry Pi 2, работающий круглосуточно, я полностью отказался от них на основном ПК и медиа-приставке. А это 1 комплект устройств ввода вместо 3, что очень экономит место.

— Удивительная отзывчивость! Играть на ПК-клиенте в заведомо требовательные к скорости реакции игры (CS, Dota) вполне комфортно, какую-либо задержку ввода мне уловить не удалось.

— Возможность использовать на любой ОС «большой тройки». Лично мне не довелось испробовать Synergy на Mac, но связка Linux — Windows в любом порядке работала без нареканий.

И в заключение хочу добавить, что результатом запуска Synergy для «посмотреть, что это такое» стала полная реорганизация подхода к работе с ПК внутри квартиры и горячее желание помочь разработчикам, что и вылилось в эту статью. Наверное, это лучшая оценка, которую может озвучить пользователь.

Благодарю за внимание.
